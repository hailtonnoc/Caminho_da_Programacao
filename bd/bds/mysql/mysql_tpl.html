<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <title>Registros MySQL</title>
</head>
<body>
    <header>
        <h1>Manipulando Tuplas</h1>
    </header>
    <main>
        <section>
            <div class="inserindo">
                <h2>Inserindo Registros</h2>
                <p>Para inserir Registros utilize os comandos abaixo:</p>
                <code>
                    <pre>
                        INSERT INTO <small>tabela_nome</small>
                        (id, caracteristica_0, caracteristica_1, caracteristica_3)
                        VALUES
                        <small>(default, 'Nome',    '1996-04-21',    'y')</small>,
                        <small>(default, 'Nome_1',    '1996-05-20',    'x')</small>;
                    </pre>
                </code>
            </div>

            <div class="alterando">
                <h2>Alterando Registro</h2>
                <p>Utilize o comando <strong>UPDATE</strong> desta maneira:</p>
                <code>
                    <pre>
                        UPDATE <small>nome_tabela</small>
                        SET <small>nome_coluna = 'novo_valor', nome_outra_coluna = 'novo_valor'</small>
                        WHERE <small>coluna_identificadora = 'valor_identificar'</small> ;
                    </pre>
                </code>
                <p>Ainda é possível colocar antes do final do comando o <mark><code>LIMIT 1</code></mark> limitando o numero de grandes modificações.</p>
            </div>

            <div class="deletando">
                <h2>Deletando registro</h2>
                <code>
                    <pre>
                        DELETE FROM <small>nome_tabela</small>
                        WHERE <small>coluna_idenficica = 'valor_idenficador'</small>;
                    </pre>
                </code>
                <p>Para deletar <strong>TODOS</strong> os registros da tabela utilize o comando <strong>TRUNCATE</strong></p>
                <code>
                    <pre>
                        TRUNCATE TABLE <small>nome_table</small>;
                    </pre>
                </code>

            </div>

            <div class="selecionando">
                <h2>Selecionando registros</h2>
                <p>Para selecionar registro utilizaremos uma vasta combinação do comando <strong>SELECT</strong>.</p>
                <h3>Seleção geral</h3>
                <code>
                    <pre>
                        SELECT <small><abbr title="TUDO">*</abbr></small> FROM <small>nome_table</small>;
                    </pre>
                </code>
                <h3>Seleção Ordenada</h3>
                <code>
                    <pre>
                        SELECT <small><abbr title="TUDO">*</abbr></small> FROM <small>nome_table</small>
                        ORDER BY <small>nome_coluna</small>;
                    </pre>
                </code>
                <h3>Seleção Ordem inversa</h3>
                <code>
                    <pre>
                        SELECT <small><abbr title="TUDO">*</abbr></small> FROM <small>nome_table</small>
                        ORDER BY <small>nome_coluna</small> <strong>DESC</strong>;
                    </pre>
                </code>

                <h3>Formatando retorno</h3>
                <p>Para retornar apenas colunas desejadas substitua <strong>*</strong> pelo nome das colunas.</p>
                <code>
                    <pre>
                        SELECT <small>nome_coluna0, nome_coluna1</small> FROM <small>nome_table</small>;
                    </pre>
                </code>

                <h3>Critérios para retorno</h3>
                <p>Para retornar apenas linhas desejadas coloque o <code>WHERE</code> nome das colunas e os critérios.</p>
                <code>
                    <pre>
                        SELECT <small>nome_coluna0, nome_coluna1</small> FROM <small>nome_table</small>
                        WHERE <small>coluna</small> &lt;= <small>'valor'</small> ;
                    </pre>
                </code>
                <h4>Valores entre um e outro</h4>
                <code>
                    <pre>
                        SELECT <small>nome_coluna0, nome_coluna1</small> FROM <small>nome_table</small>
                        WHERE <small>coluna</small> BETWEEN <small>'valor'</small> AND <small>'valor'</small> ;
                    </pre>
                </code>
                <h4>Valores específicos</h4>
                <code>
                    <pre>
                        SELECT <small>nome_coluna0, nome_coluna1</small> FROM <small>nome_table</small>
                        WHERE <small>coluna</small> IN <small>('valor0','valor1','valor2')</small> ;
                    </pre>
                </code>
                <h4>Operadores <strong>LÓGICOS</strong> podem ser usados para combinar busca.</h4>
                <pre>
                    WHERE <small>coluna</small> &gt;= <small>'valor'</small> AND <small>coluna</small> &lt;= <small>'valor'</small>
                    WHERE <small>coluna</small> &gt;= <small>'valor'</small> OR <small>coluna</small> &lt;= <small>'valor'</small>
                    WHERE <small>coluna</small> NOT <small>'valor'</small>
                </pre>

            </div>

            <div class="selecaoAvancada">
                <h3>Retornando valores Parecidos</h3>
                <p>Para retornar apenas valores parecidos ou com fragmentos de 'x' utilize <strong>LIKE</strong>.(Case sensitive)</p>
                <code>
                    <pre>
                        SELECT <small>nome_coluna0, nome_coluna1</small> FROM <small>nome_table</small>
                        WHERE <small>coluna</small> LIKE <small>'<strong style="font-size: 1.27em;">%</strong>x<strong style="font-size: 1.27em;">%</strong>'</small>;
                    </pre>
                </code>
                <p>O carácter coringa % substitui por varios ou nenhum carácter  </p>
                <p>nada ou qualquer coisa ante:</p>
                <code>'%x'</code>
                <p>nada ou qualquer coisa depois</p>
                <code>'x%'</code>
                <h4>Que tenha alguma coisa</h4>
                <p>Para que tenha obrigatoriamente algo antes ou depois utilize <strong>_</strong> .</p>

            </div>

            <details class="informacoes">
                <summary><h2>Extraindo informações</h2></summary>
                <h3>Puxando uma Lista de todos os itens</h3>
                <p>Esta função apenas elimina valores repetidos e tem um carater de apresentação. Diferente do GROUP BY que é uma função</p>
                <code>
                    <pre>
                        SELECT DISTINCT <small>coluna</small> FROM <small>tabela</small>;
                    </pre>
                </code>

                <h3>Contando itens</h3>
                <code>
                    <pre>
                        SELECT COUNT(*) FROM <small>tabela</small> WHERE <small>coluna != 'valor'</small>;
                    </pre>
                </code>

                <h3>Verificando qual o maior</h3>
                <code>
                    <pre>
                        SELECT MAX(<small>coluna</small>) FROM <small>tabela</small>;
                    </pre>
                </code>

                <h3>Verificando qual o menor</h3>
                <code>
                    <pre>
                        SELECT MIN(<small>coluna</small>) FROM <small>tabela</small>;
                    </pre>
                </code>

                <h3>Somando qual o total</h3>
                <code>
                    <pre>
                        SELECT SUM(<small>coluna_valores</small>) FROM <small>tabela</small> WHERE <small>coluna</small> &LT; 'valor';
                    </pre>
                </code>

                <h3>Verificando qual a media</h3>
                <code>
                    <pre>
                        SELECT AVG(<small>coluna</small>) FROM <small>tabela</small>;
                    </pre>
                </code>

                <h3>Puxando uma Lista de todos os itens e sua quantidade.</h3>
                <p>A clausula <code>GROUP BY</code> organiza dados em respetivos grupos.</p>
                <code>
                    <pre>
                        SELECT <small>coluna</small>, COUNT(*) FROM <small>tabela</small>
                        GROUP BY <small>coluna</small>;
                    </pre>
                </code>

                <h3>Puxando uma Lista de todos os itens e sua quantidade, que tenha determinado critério.</h3>
                <p>A clausula <code>HAVING</code> é praticamente o <code>"WHERE"</code> do GROUP. <br> Assim o <code>where</code> fica com um trabalho não de restringir a pesquisa mas de excluir o que não deve aparecer com o <code>WHERE coluna NOT IN (valores, valores)</code></p>
                <code>
                    <pre>
                        SELECT <small>coluna</small>, COUNT(*) FROM <small>tabela</small>
                        GROUP BY <small>coluna</small>
                        HAVING <small>coluna</small> = 'valor';
                    </pre>
                </code>

                <h2>Subquery</h2>
                <h3>Puxando uma Lista de todos os itens e sua quantidade, que tenha determinado critério fruto de outro select.</h3>
                <code>
                    <pre>
                        SELECT <small>coluna</small>, COUNT(*) FROM <small>tabela</small>
                        GROUP BY <small>coluna</small>
                        HAVING <small>coluna</small> &gt; (SELECT AVG(<small>coluna</small>) FROM <small>tabela</small>);
                    </pre>
                </code>



            </details>

            <details class="juntando">
                <summary><h2>JOIN</h2></summary>
                <div>
                    <h3>Juntando tabelas</h3>
                    <p>Para juntar tabelas a fim de visualizar uma informação completa utilize primeriamente uma <code>FOREIGN KEY</code> criando uma relação entre os dados. <mark>INNER JOIN</mark></p>
                    <code>
                        <pre>
    SELECT <small>nome_tb</small>.<small>nome_coluna</small>, <small>nome_outra_tb</small>.<small>nome_coluna</small>
    FROM <small>nome_tb</small> JOIN <small>nome_outra_tb</small>
    ON <small>nome_tb</small>.<small>coluna_PK</small> = <small>nome_outra_tb</small>.<small>coluna_FK</small>;
                        </pre>
                    </code>
                    <P>Diminuir comando abreviando nome das tabelas com o <mark>AS</mark></P>
                    <code>
                        <pre>
    SELECT <small>tb1</small>.<small>nome_coluna</small>, <small>tb2</small>.<small>nome_coluna</small>
    FROM <small>nome_tb</small> AS <small>tb1</small> JOIN <small>nome_outra_tb</small> AS <small>tb2</small>
    ON <small>tb1</small>.<small>coluna_PK</small> = <small>tb2</small>.<small>coluna_FK</small>;
                        </pre>
                    </code>

                    <p>Caso queira visualizar também os dados não relacionado utilize o <mark>OUTER JOIN</mark> definindo qual tabela deve ser visualizada completamente <mark>LEFT</mark> ou <mark>RIGHT</mark>. </p>
                    <code>
                        <pre>
    SELECT <small>tb1</small>.<small>nome_coluna</small>, <small>tb2</small>.<small>nome_coluna</small>
    FROM <small>nome_tb</small> AS <small>tb1</small> LEFT JOIN <small>nome_outra_tb</small> AS <small>tb2</small>
    ON <small>tb1</small>.<small>coluna_PK</small> = <small>tb2</small>.<small>coluna_FK</small>;
                        </pre>
                    </code>
                    <h3>Unindo varias tabelas</h3>
                    <p>Para trabalhar com as relações de varias tabelas é possível unir vários joins.</p>
                    <code>
                        <pre>
    SELECT <small>tb1</small>.<small>nome_coluna</small>, <small>tb2</small>.<small>nome_coluna</small>
    FROM <small>nome_tb</small> AS <small>tb1</small> LEFT JOIN <small>nome_outra_tb</small> AS <small>tb2</small>
    ON <small>tb1</small>.<small>coluna_PK</small> = <small>tb2</small>.<small>coluna_FK</small>
    JOIN <small>nome_outra</small> AS <small>tb3</small>
    ON <small>tb3</small>.<small>coluna_PK</small> = <small>tb2</small>.<small>coluna_FK</small>;
                        </pre>
                    </code>
                

                </div>
            </details>


        </section>


    </main>


    <a href="sql.html" rel="prev"><img src="../../../XXXMATERIAISXXX/IMAGENS/left.png" alt="voltar"></a>
</body>
</html>